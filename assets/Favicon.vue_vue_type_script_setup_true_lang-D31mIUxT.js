import{a as y}from"./commons-DnPATCER.js";import{d as p,D as c,a as s,g as t,dL as x,bf as m,i as S,o as i}from"./index-B5dwSFgx.js";import{u as b}from"./site-HyF-qPbI.js";import{u as v}from"./icon_style-BmhB8Lq9.js";const h=["src"],q=p({__name:"Favicon",props:{site:{type:Object,required:!0},siteIndex:{type:Number,required:!0},groupIndex:{type:Number,required:!0}},setup(e){const l=e,r=b(),{iconStyle:f}=v(),a=c(!1),u=c(!0);function g(n){a.value=!0,r.setGroupIndex(l.groupIndex),r.setSiteIndex(l.siteIndex),!n.bgColor&&r.updateSite({...n,bgColor:y()})}return(n,o)=>(i(),s("div",{style:m(t(f)),"h-18":"","w-18":"",md:"h-22 w-22",lg:"h-22 w-22"},[t(a)?(i(),s("div",{key:1,style:m({backgroundColor:e.site.bgColor}),"h-full":"","w-full":"","flex-center":"","scale-112":"","rounded-full":"",text:"white sm"},S(e.site.name.length>0?e.site.name.toLocaleUpperCase().charAt(0):"c"),5)):(i(),s("img",{key:0,src:e.site.favicon||t(x)(e.site.url),"h-full":"","w-full":"",decoding:"async",loading:"lazy",onError:o[0]||(o[0]=d=>g(e.site)),onOnload:o[1]||(o[1]=(...d)=>t(u)&&t(u)(...d))},null,40,h))],4))}});export{q as _};
