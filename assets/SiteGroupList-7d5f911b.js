import{u as I,d as v}from"./draggable-d188ea2e.js";import{_ as M}from"./Favicon.vue_vue_type_script_setup_true_lang-dc426495.js";import{u as $}from"./modal-0890017f.js";import{u as V}from"./site-8c6837d9.js";import{d as B,h as N,E as j,u as R,o as _,a as m,e as r,w as l,b as s,n as h,f as e,i as k,m as b,g as w,j as T,_ as W}from"./index-06f0f7c5.js";import{u as z}from"./render-603a4b3c.js";import"./_commonjsHelpers-23102255.js";import"./commons-4d60aff1.js";import"./icon_style-8e0bea6a.js";const K={class:"group__header--all",grid:"","justify-start":""},O=["onClick"],P={flex:"",class:"group__content--all"},q=["href","onClick"],A={ellipsis:"","whitespace-nowrap":"","text-14":"",md:"text-15",lg:"text-15","overflow-hidden":""},F={key:0,"min-h-32":""},H={key:0,"my-20":"",md:"my-32",lg:"my-32"},J=B({__name:"SiteGroupList",setup(Q){const d=$(),t=V(),c=N();function C(u,n,p,g){c.name==="setting"&&(g.preventDefault(),d.showModal("update","site",n,p))}function L(u){c.name==="setting"&&d.showModal("update","group",u)}const E=j(()=>c.name==="setting"&&t.data.length>0),{draggableOptions:f,handleStart:x,handleEnd:y}=I(),o=R(),G=z();return(u,n)=>{const p=T;return _(),m("section",{key:e(G).siteGroupListKey,"pb-14":"","text-14":"",md:"text-15",lg:"text-15"},[r(e(v),b({list:e(t).data[e(t).cateIndex].groupList,"item-key":"id",handle:".group__handle","drag-class":"dragging","component-data":{tag:"div",type:"transition-group"}},e(f),{onStart:e(x),onEnd:e(y)}),{item:l(({element:g,index:i})=>[s("div",{class:h({"group__header--line":e(t).data[e(t).cateIndex].groupList.length!==i+1}),flex:"",style:{"align-items":"center"}},[s("div",K,[s("span",{class:h(["group__handle",{"cursor-pointer":e(o).isSetting,"group__header--setting":e(o).isWhiteTheme,"group__header--setting--colorful":!e(o).isWhiteTheme,"site--setting":e(o).isSetting}]),onClick:a=>L(i),"shrink-0":"","px-0":"","py-4":"","whitespace-nowrap":"",ellipsis:"","text-13":"",md:"text-15",lg:"text-15","op-80":"","overflow-hidden":""},k(g.name),11,O)]),s("div",P,[r(e(v),b({list:e(t).data[e(t).cateIndex].groupList[i].siteList,"item-key":"id",group:"site",handle:".site__handle","drag-class":"dragging","component-data":{tag:"div",type:"transition-group",class:"grid gap-8 grid-cols-3 md:gap-12 lg:gap-12 xl:gap-12 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-6"}},e(f),{onStart:e(x),onEnd:e(y),flex:"",style:{flex:"0 0 100%"}}),{item:l(({element:a,index:S})=>[s("div",null,[s("a",{class:h(["site__handle",{"site--setting":e(o).isSetting,"hover:bg-$site-hover-c":!e(o).isDragging}]),href:a.url,target:"_blank","inline-flex":"","cursor-pointer":"","items-center":"","gap-x-4":"","px-4":"","py-4":"","max-w-100p":"",onClick:D=>C(a.url,i,S,D),style:{margin:"0 2px"}},[r(M,{class:"shrink-0",site:a,"site-index":S,"group-index":i},null,8,["site","site-index","group-index"]),s("span",A,k(a.name),1)],10,q)])]),footer:l(()=>[!e(o).isDragging&&e(o).isSetting&&e(t).data[e(t).cateIndex].groupList[i].siteList.length<6?(_(),m("div",F,[r(p,{class:"h-full",type:"primary",secondary:"",focusable:!1,onClick:a=>e(d).showModal("add","site",i)},{icon:l(()=>n[1]||(n[1]=[s("div",{"i-carbon:add":""},null,-1)])),_:2},1032,["onClick"])])):w("",!0)]),_:2},1040,["list","onStart","onEnd"])])],2)]),_:1},16,["list","onStart","onEnd"]),e(E)?(_(),m("div",H,[r(p,{type:"primary",secondary:"","w-full":"",focusable:!1,onClick:n[0]||(n[0]=g=>e(d).showModal("add","group"))},{icon:l(()=>n[2]||(n[2]=[s("div",{"i-carbon:add":""},null,-1)])),_:1})])):w("",!0)])}}});const ie=W(J,[["__scopeId","data-v-554bc093"]]);export{ie as default};
