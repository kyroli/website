import{u as S,d as b}from"./draggable-b89e26ca.js";import{u as v}from"./modal-52bdcfd2.js";import{u as y}from"./site-a228e486.js";import{d as C,h as I,u as k,o as c,a as $,e as w,w as l,b as m,i as B,n as p,f as e,m as N,c as E,g as T,j as W,_ as D}from"./index-4816b9ca.js";import"./_commonjsHelpers-23102255.js";const M=["onClick"],V=C({__name:"SiteNavBar",setup(z){const d=v(),a=y(),x=I();function u(r){x.name==="setting"&&a.cateIndex===r?d.showModal("update","cate"):a.setCateIndex(r)}const s=k(),{draggableOptions:_,handleStart:g,handleEnd:f}=S();function h(r){f();const{oldIndex:n,newIndex:o}=r,{cateIndex:t}=a;if(n===t&&o!==t)a.setCateIndex(o);else{if(n<t&&o<t||n>t&&o>t)return;n<t?a.setCateIndex(t-1):n>t&&a.setCateIndex(t+1)}}return(r,n)=>{const o=W;return c(),$("section",{class:p({nav__items:!e(s).isSetting}),"flex-center":"","text-14":"","pb-16":"",md:"text-15 pb-32",lg:"text-15 pb-32"},[w(e(b),N({class:"flex gap-x-12",list:e(a).data,"item-key":"id","component-data":{tag:"div",type:"transition-group"}},e(_),{onStart:e(g),onEnd:h,style:{overflow:"scroll","white-space":"nowrap"}}),{item:l(({element:t,index:i})=>[m("div",{class:p(["dragging",{"text-$primary-light-c hover:text-$text-c":e(a).cateIndex!==i&&e(s).isWhiteTheme,"border-$text-c text-$text-c":e(a).cateIndex===i&&e(s).isWhiteTheme,"border-$primary-c text-$primary-c":e(a).cateIndex===i&&!e(s).isWhiteTheme,"hover:text-$primary-c":!e(s).isWhiteTheme,"site--setting":e(s).isSetting,"site--select":e(a).cateIndex===i&&e(s).isSetting}]),border:"b-2 transparent","cursor-pointer":"","transition-color":"","duration-300":"","p-4":"","shrink-0":"",onClick:j=>u(i),style:{"text-align":"center"}},B(t.name),11,M)]),_:1},16,["list","onStart"]),e(s).isSetting?(c(),E(o,{key:0,"min-h-30":"",class:"ml-12",type:"primary",size:"small",focusable:!1,secondary:"",onClick:n[0]||(n[0]=t=>e(d).showModal("add","cate"))},{icon:l(()=>n[1]||(n[1]=[m("div",{"i-carbon:add":""},null,-1)])),_:1})):T("",!0)],2)}}});const F=D(V,[["__scopeId","data-v-db3d6f43"]]);export{F as default};
